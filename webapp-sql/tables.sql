
CREATE TABLE IF NOT EXISTS users
(
    user_id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    user_name VARCHAR(32) UNIQUE NOT NULL,
    create_time TIMESTAMPTZ NOT NULL DEFAULT(CURRENT_TIMESTAMP)
);

CREATE TABLE IF NOT EXISTS messages
(
    message_id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    user_id INTEGER NOT NULL REFERENCES users(user_id),
    content VARCHAR(128) NOT NULL,
    sent_time TIMESTAMPTZ NOT NULL DEFAULT(CURRENT_TIMESTAMP)
);